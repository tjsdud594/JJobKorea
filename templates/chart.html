<!DOCTYPE html>
<html style="font-size: 16px;">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="utf-8">
  <meta name="keywords" content="chart from company score">
  <meta name="description" content="">
  <meta name="page_type" content="np-template-header-footer-from-plugin">
  <title>Home</title>
  <link rel="stylesheet" src="../static/css/nicepage.css" media="screen">
  <link rel="stylesheet" src="../static/css/Home.css" media="screen">
  <script class="u-script" type="text/javascript" src="../static/js/jquery.js" defer=""></script>
  <script class="u-script" type="text/javascript" src="../static/js/nicepage.js" defer=""></script>
  <meta name="generator" content="Nicepage 3.18.0, nicepage.com">
  <link id="u-theme-google-font" rel="stylesheet"
    href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i">


  <script type="application/ld+json">{
		"@context": "http://schema.org",
		"@type": "Organization",
		"name": "",
		"logo": "images/default-logo.png"
}</script>
  <meta name="theme-color" content="#478ac9">
  <meta property="og:title" content="Home">
  <meta property="og:type" content="website">
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script type="text/javascript">

    function chartall() {
      const xhttp = new XMLHttpRequest();
      xhttp.onreadystatechange = function () {
        if (this.readyState == 4 && this.status == 200) {
          data = this.responseText;
          data = JSON.parse(data);
          console.log(data);
          console.log(typeof (data))

          tab = `[\n['Company', 'Score', { role: 'style' }],\n`;

          // https://poiemaweb.com/es6-template-literals
          let cname
          let avg_score
          let sal
          for (no in data) {
            cname = data[no].cname;
            avg_score = parseFloat(data[no].avg_score);
            color = data[no].color;
            console.log(avg_score)

            tab = tab + `[`;
            tab = tab + `'${cname}'`;
            tab = tab + `, `;
            tab = tab + `${avg_score}`;
            tab = tab + `,`;
            tab = tab + `'${color}'`;
            tab = tab + `], \n`;
          }
          tab = tab + `]`;
          console.log(tab)


          google.charts.load('current', { packages: ['corechart', 'bar'] });
          google.charts.setOnLoadCallback(drawAxisTickColors1);
          function drawAxisTickColors1() {

            // tab = JSON.parse(tab);
            tab = eval(tab);
            console.log(typeof (tab));
            var data = google.visualization.arrayToDataTable(tab);
            console.log(tab);

            var options = {
              title: 'Blind Company Score',
              focusTarget: 'category',
              hAxis: {
                title: 'Company',
                textStyle: {
                  fontSize: 11,
                  color: '#053061',
                  bold: true,
                  italic: false
                },
                titleTextStyle: {
                  fontSize: 11,
                  color: '#053061',
                  bold: true,
                  italic: false
                }
              },
              vAxis: {
                title: 'score (scale of 1-5)',
                maxValue: 5.0,
                textStyle: {
                  fontSize: 11,
                  color: '#67001f',
                  bold: false,
                  italic: false
                },
                titleTextStyle: {
                  fontSize: 11,
                  color: '#67001f',
                  bold: true,
                  italic: false
                }
              }
            };

            var chart = new google.visualization.ColumnChart(document.getElementById('chart_div'));
            chart.draw(data, options);
          }
        };
      };
      xhttp.open("POST", "showchart");
      xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
      xhttp.send();
    }

  </script>
</head>

<body onload="chartall()" data-home-page="Home.html" data-home-page-title="Home" class="u-body">
  <header class="u-clearfix u-header u-header" id="sec-a24a">
    <div class="u-clearfix u-sheet u-valign-middle u-sheet-1">
      <a href="https://nicepage.com" class="u-image u-logo u-image-1">
        <img src="../static/images/JJobkorea.png" class="u-logo-image u-logo-image-1">
      </a>
      <nav class="u-menu u-menu-dropdown u-offcanvas u-menu-1">
        <div class="menu-collapse" style="font-size: 1rem; letter-spacing: 0px;">
          <a class="u-button-style u-custom-left-right-menu-spacing u-custom-padding-bottom u-custom-top-bottom-menu-spacing u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base"
            href="#">
            <svg>
              <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#menu-hamburger"></use>
            </svg>
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
              <defs>
                <symbol id="menu-hamburger" viewBox="0 0 16 16" style="width: 16px; height: 16px;">
                  <rect y="1" width="16" height="2"></rect>
                  <rect y="7" width="16" height="2"></rect>
                  <rect y="13" width="16" height="2"></rect>
                </symbol>
              </defs>
            </svg>
          </a>
        </div>
        <div class="u-custom-menu u-nav-container">
          <ul class="u-nav u-unstyled u-nav-1">
            <li class="u-nav-item"><a
                class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base"
                href="Home.html" style="padding: 10px 20px;">Home</a>
            </li>
            <li class="u-nav-item"><a
                class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base"
                href="직업찾기.html" style="padding: 10px 20px;">직업찾기</a>
            </li>
            <li class="u-nav-item"><a
                class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base"
                href="게시판.html" style="padding: 10px 20px;">게시판</a>
            </li>
            <li class="u-nav-item"><a
                class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base"
                style="padding: 10px 20px;">기업정보</a>
            </li>
            <li class="u-nav-item"><a
                class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base"
                style="padding: 10px 20px;">차트</a>
            </li>
          </ul>
        </div>
        <div class="u-custom-menu u-nav-container-collapse">
          <div class="u-black u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav">
            <div class="u-sidenav-overflow">
              <div class="u-menu-close"></div>
              <ul class="u-align-center u-nav u-popupmenu-items u-unstyled u-nav-2">
                <li class="u-nav-item"><a class="u-button-style u-nav-link" href="Home.html"
                    style="padding: 10px 20px;">Home</a>
                </li>
                <li class="u-nav-item"><a class="u-button-style u-nav-link" href="직업찾기.html"
                    style="padding: 10px 20px;">직업찾기</a>
                </li>
                <li class="u-nav-item"><a class="u-button-style u-nav-link" href="게시판.html"
                    style="padding: 10px 20px;">게시판</a>
                </li>
                <li class="u-nav-item"><a class="u-button-style u-nav-link" style="padding: 10px 20px;">기업정보</a>
                </li>
                <li class="u-nav-item"><a class="u-button-style u-nav-link" style="padding: 10px 20px;">차트</a>
                </li>
              </ul>
            </div>
          </div>
          <div class="u-black u-menu-overlay u-opacity u-opacity-70"></div>
        </div>
      </nav>
    </div>
  </header>
  <section class="u-align-right u-clearfix u-image u-section-1" id="carousel_6b26">
    <div class="u-clearfix u-sheet u-sheet-1">
      <h2 class="u-align-center u-text u-text-1">chart from company score</h2>
      <h4 class="u-text u-text-2">게시판에 매긴 점수들이 차트로 반환됩니다.</h4>
      <a href="https://www.apple.com/apple-watch-series-4/activity/"
        class="u-border-2 u-border-black u-btn u-button-style u-none u-btn-1" target="_blank">메인으로 가기</a>
    </div>
  </section>



  <div id='chart_div'>



  </div>

  <div id='chart_all'>


  </div>

</body>

</html>